ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"JY61P.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.WITSerialDecode,"ax",%progbits
  20              		.align	1
  21              		.global	WITSerialDecode
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	WITSerialDecode:
  27              	.LFB140:
  28              		.file 1 "modules/JY61P/JY61P.c"
   1:modules/JY61P/JY61P.c **** #include "JY61P.h"
   2:modules/JY61P/JY61P.c **** 
   3:modules/JY61P/JY61P.c **** 
   4:modules/JY61P/JY61P.c **** // static JY61PData JY61P_data;
   5:modules/JY61P/JY61P.c **** static JY61P_Instance_s JY61P_instance;
   6:modules/JY61P/JY61P.c **** 
   7:modules/JY61P/JY61P.c **** static JY61PData *JY61P_data; // 传感器数据结构体实例
   8:modules/JY61P/JY61P.c **** 
   9:modules/JY61P/JY61P.c **** double gyro_x = 0;
  10:modules/JY61P/JY61P.c **** double gyro_y = 0;
  11:modules/JY61P/JY61P.c **** double dart_speed = 0;
  12:modules/JY61P/JY61P.c **** 
  13:modules/JY61P/JY61P.c **** uint32_t last_count = 0;
  14:modules/JY61P/JY61P.c **** 
  15:modules/JY61P/JY61P.c **** JY61PData *INS_Init(void)
  16:modules/JY61P/JY61P.c **** {
  17:modules/JY61P/JY61P.c ****     DWT_Init(168);
  18:modules/JY61P/JY61P.c ****     JY61P_data = JY61P_Init(WIT_BAUD_115200);
  19:modules/JY61P/JY61P.c **** 
  20:modules/JY61P/JY61P.c ****     return &JY61P_data;
  21:modules/JY61P/JY61P.c **** }
  22:modules/JY61P/JY61P.c **** 
  23:modules/JY61P/JY61P.c **** JY61PData* JY61P_Init(uint8_t uart_baud)
  24:modules/JY61P/JY61P.c **** {
  25:modules/JY61P/JY61P.c ****     
  26:modules/JY61P/JY61P.c ****     USART_Init_Config_s conf;
  27:modules/JY61P/JY61P.c ****     conf.module_callback = WITSerialDecode;
  28:modules/JY61P/JY61P.c ****     conf.usart_handle = &huart3; 
  29:modules/JY61P/JY61P.c ****     conf.recv_buff_size = 44; 
  30:modules/JY61P/JY61P.c ****     JY61P_instance.usart_instance = USARTRegister(&conf);
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 2


  31:modules/JY61P/JY61P.c **** 
  32:modules/JY61P/JY61P.c ****     WitInit(WIT_PROTOCOL_NORMAL, 0x50);
  33:modules/JY61P/JY61P.c ****     WitSerialWriteRegister(USART_JY61P_SEND); // 注册传感器串口发送函数
  34:modules/JY61P/JY61P.c ****     WitDelayMsRegister(DWT_Delay_ms);// 注册传感器延时函数
  35:modules/JY61P/JY61P.c ****     WitRegisterCallBack(JY61P_DataUpdate);// 注册传感器数据更新函数
  36:modules/JY61P/JY61P.c ****     WitSetUartBaud(uart_baud);
  37:modules/JY61P/JY61P.c ****     WitStartAccCali();
  38:modules/JY61P/JY61P.c ****     DWT_Delay_ms(100);
  39:modules/JY61P/JY61P.c ****     return &JY61P_instance.JY61P_data;
  40:modules/JY61P/JY61P.c **** }
  41:modules/JY61P/JY61P.c **** 
  42:modules/JY61P/JY61P.c **** void JY61P_ReadData()
  43:modules/JY61P/JY61P.c **** {
  44:modules/JY61P/JY61P.c ****     WitReadReg(AX, 3);
  45:modules/JY61P/JY61P.c ****     DWT_Delay(0.1);
  46:modules/JY61P/JY61P.c ****     WitReadReg(GX, 3);
  47:modules/JY61P/JY61P.c ****     DWT_Delay(0.1);
  48:modules/JY61P/JY61P.c ****     WitReadReg(HX, 3);
  49:modules/JY61P/JY61P.c ****     DWT_Delay(0.1);
  50:modules/JY61P/JY61P.c ****     WitReadReg(Roll, 3);
  51:modules/JY61P/JY61P.c **** }
  52:modules/JY61P/JY61P.c **** 
  53:modules/JY61P/JY61P.c **** void WITSerialDecode()
  54:modules/JY61P/JY61P.c **** {
  29              		.loc 1 54 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  55:modules/JY61P/JY61P.c ****     for (int i = 0; i < 44; i++)
  38              		.loc 1 55 5 view .LVU1
  39              	.LBB2:
  40              		.loc 1 55 10 view .LVU2
  41              	.LVL0:
  42              		.loc 1 55 14 is_stmt 0 view .LVU3
  43 0002 0024     		movs	r4, #0
  44              		.loc 1 55 5 view .LVU4
  45 0004 05E0     		b	.L2
  46              	.LVL1:
  47              	.L3:
  56:modules/JY61P/JY61P.c ****   {
  57:modules/JY61P/JY61P.c ****     // HAL_UART_Transmit_IT(&huart1, &JY61P_instance.usart_instance->recv_buff,33);
  58:modules/JY61P/JY61P.c ****     WitSerialDataIn(JY61P_instance.usart_instance->recv_buff[i]);
  48              		.loc 1 58 5 is_stmt 1 discriminator 3 view .LVU5
  49              		.loc 1 58 35 is_stmt 0 discriminator 3 view .LVU6
  50 0006 044B     		ldr	r3, .L5
  51 0008 1B68     		ldr	r3, [r3]
  52              		.loc 1 58 5 discriminator 3 view .LVU7
  53 000a 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
  54 000c FFF7FEFF 		bl	WitSerialDataIn
  55              	.LVL2:
  55:modules/JY61P/JY61P.c ****     for (int i = 0; i < 44; i++)
  56              		.loc 1 55 29 is_stmt 1 discriminator 3 view .LVU8
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 3


  55:modules/JY61P/JY61P.c ****     for (int i = 0; i < 44; i++)
  57              		.loc 1 55 30 is_stmt 0 discriminator 3 view .LVU9
  58 0010 0134     		adds	r4, r4, #1
  59              	.LVL3:
  60              	.L2:
  55:modules/JY61P/JY61P.c ****     for (int i = 0; i < 44; i++)
  61              		.loc 1 55 21 is_stmt 1 discriminator 1 view .LVU10
  55:modules/JY61P/JY61P.c ****     for (int i = 0; i < 44; i++)
  62              		.loc 1 55 5 is_stmt 0 discriminator 1 view .LVU11
  63 0012 2B2C     		cmp	r4, #43
  64 0014 F7DD     		ble	.L3
  65              	.LBE2:
  59:modules/JY61P/JY61P.c ****   }
  60:modules/JY61P/JY61P.c **** }
  66              		.loc 1 60 1 view .LVU12
  67 0016 10BD     		pop	{r4, pc}
  68              	.LVL4:
  69              	.L6:
  70              		.loc 1 60 1 view .LVU13
  71              		.align	2
  72              	.L5:
  73 0018 00000000 		.word	.LANCHOR0
  74              		.cfi_endproc
  75              	.LFE140:
  77              		.global	__aeabi_f2d
  78              		.section	.text.JY61P_DataUpdate,"ax",%progbits
  79              		.align	1
  80              		.global	JY61P_DataUpdate
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  85              	JY61P_DataUpdate:
  86              	.LVL5:
  87              	.LFB141:
  61:modules/JY61P/JY61P.c **** 
  62:modules/JY61P/JY61P.c **** void JY61P_DataUpdate(uint32_t uiReg, uint32_t uiRegNum)
  63:modules/JY61P/JY61P.c **** {
  88              		.loc 1 63 1 is_stmt 1 view -0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              		.loc 1 63 1 is_stmt 0 view .LVU15
  93 0000 10B5     		push	{r4, lr}
  94              	.LCFI1:
  95              		.cfi_def_cfa_offset 8
  96              		.cfi_offset 4, -8
  97              		.cfi_offset 14, -4
  98 0002 2DED028B 		vpush.64	{d8}
  99              	.LCFI2:
 100              		.cfi_def_cfa_offset 16
 101              		.cfi_offset 80, -16
 102              		.cfi_offset 81, -12
  64:modules/JY61P/JY61P.c ****     switch(uiReg)
 103              		.loc 1 64 5 is_stmt 1 view .LVU16
 104 0006 3728     		cmp	r0, #55
 105 0008 5ED0     		beq	.L15
 106 000a 3D28     		cmp	r0, #61
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 4


 107 000c 78D0     		beq	.L16
 108 000e 3428     		cmp	r0, #52
 109 0010 30D0     		beq	.L19
 110              	.LVL6:
 111              	.L7:
  65:modules/JY61P/JY61P.c ****     {
  66:modules/JY61P/JY61P.c ****         case AX:
  67:modules/JY61P/JY61P.c ****             for(int i = 0; i < 3; i++)
  68:modules/JY61P/JY61P.c ****             {
  69:modules/JY61P/JY61P.c ****                 JY61P_instance.JY61P_data.fAcc[i] = sReg[AX+i] / 32768.0f * 16.0f;
  70:modules/JY61P/JY61P.c ****             }
  71:modules/JY61P/JY61P.c ****             DWT_GetDeltaT(&last_count);
  72:modules/JY61P/JY61P.c ****             dart_speed = JY61P_instance.JY61P_data.fAcc[1] * DWT_GetDeltaT(&last_count);
  73:modules/JY61P/JY61P.c **** 
  74:modules/JY61P/JY61P.c ****             break;
  75:modules/JY61P/JY61P.c ****         case GX:
  76:modules/JY61P/JY61P.c ****             for(int i = 0; i < 3; i++)
  77:modules/JY61P/JY61P.c ****             {
  78:modules/JY61P/JY61P.c ****                 JY61P_instance.JY61P_data.fGyro[i] = sReg[GX+i] / 32768.0f * 2000.0f;
  79:modules/JY61P/JY61P.c ****             }
  80:modules/JY61P/JY61P.c ****             gyro_x = JY61P_instance.JY61P_data.fGyro[2];
  81:modules/JY61P/JY61P.c ****             gyro_y = JY61P_instance.JY61P_data.fGyro[0];
  82:modules/JY61P/JY61P.c ****             break;
  83:modules/JY61P/JY61P.c ****         case Roll: 
  84:modules/JY61P/JY61P.c ****             for(int i = 0; i < 3; i++)
  85:modules/JY61P/JY61P.c ****             {
  86:modules/JY61P/JY61P.c ****                 JY61P_instance.JY61P_data.fEuler[i] = sReg[Roll+i] / 32768.0f * 180.0f;
  87:modules/JY61P/JY61P.c ****             }
  88:modules/JY61P/JY61P.c ****             // JY61P_instance.JY61P_data.fEuler[2] = JY61P_instance.JY61P_data.fEuler[2] > 0 ? 360 
  89:modules/JY61P/JY61P.c ****             break;
  90:modules/JY61P/JY61P.c ****         default:
  91:modules/JY61P/JY61P.c ****             break;
  92:modules/JY61P/JY61P.c ****     }
  93:modules/JY61P/JY61P.c **** }
 112              		.loc 1 93 1 is_stmt 0 view .LVU17
 113 0012 BDEC028B 		vldm	sp!, {d8}
 114              	.LCFI3:
 115              		.cfi_remember_state
 116              		.cfi_restore 80
 117              		.cfi_restore 81
 118              		.cfi_def_cfa_offset 8
 119 0016 10BD     		pop	{r4, pc}
 120              	.LVL7:
 121              	.L12:
 122              	.LCFI4:
 123              		.cfi_restore_state
 124              	.LBB3:
  69:modules/JY61P/JY61P.c ****             }
 125              		.loc 1 69 17 is_stmt 1 discriminator 3 view .LVU18
  69:modules/JY61P/JY61P.c ****             }
 126              		.loc 1 69 60 is_stmt 0 discriminator 3 view .LVU19
 127 0018 03F13401 		add	r1, r3, #52
  69:modules/JY61P/JY61P.c ****             }
 128              		.loc 1 69 57 discriminator 3 view .LVU20
 129 001c 394A     		ldr	r2, .L20
 130 001e 32F91120 		ldrsh	r2, [r2, r1, lsl #1]
 131 0022 07EE902A 		vmov	s15, r2	@ int
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 5


  69:modules/JY61P/JY61P.c ****             }
 132              		.loc 1 69 64 discriminator 3 view .LVU21
 133 0026 F8EEE77A 		vcvt.f32.s32	s15, s15
 134 002a 9FED377A 		vldr.32	s14, .L20+4
 135 002e 67EE877A 		vmul.f32	s15, s15, s14
  69:modules/JY61P/JY61P.c ****             }
 136              		.loc 1 69 75 discriminator 3 view .LVU22
 137 0032 B3EE007A 		vmov.f32	s14, #1.6e+1
 138 0036 67EE877A 		vmul.f32	s15, s15, s14
  69:modules/JY61P/JY61P.c ****             }
 139              		.loc 1 69 51 discriminator 3 view .LVU23
 140 003a 991C     		adds	r1, r3, #2
 141 003c 334A     		ldr	r2, .L20+8
 142 003e 02EB8102 		add	r2, r2, r1, lsl #2
 143 0042 C2ED027A 		vstr.32	s15, [r2, #8]
  67:modules/JY61P/JY61P.c ****             {
 144              		.loc 1 67 35 is_stmt 1 discriminator 3 view .LVU24
  67:modules/JY61P/JY61P.c ****             {
 145              		.loc 1 67 36 is_stmt 0 discriminator 3 view .LVU25
 146 0046 0133     		adds	r3, r3, #1
 147              	.LVL8:
 148              	.L10:
  67:modules/JY61P/JY61P.c ****             {
 149              		.loc 1 67 28 is_stmt 1 discriminator 1 view .LVU26
  67:modules/JY61P/JY61P.c ****             {
 150              		.loc 1 67 13 is_stmt 0 discriminator 1 view .LVU27
 151 0048 022B     		cmp	r3, #2
 152 004a E5DD     		ble	.L12
 153              	.LBE3:
  71:modules/JY61P/JY61P.c ****             dart_speed = JY61P_instance.JY61P_data.fAcc[1] * DWT_GetDeltaT(&last_count);
 154              		.loc 1 71 13 is_stmt 1 view .LVU28
 155 004c 304C     		ldr	r4, .L20+12
 156 004e 2046     		mov	r0, r4
 157              	.LVL9:
  71:modules/JY61P/JY61P.c ****             dart_speed = JY61P_instance.JY61P_data.fAcc[1] * DWT_GetDeltaT(&last_count);
 158              		.loc 1 71 13 is_stmt 0 view .LVU29
 159 0050 FFF7FEFF 		bl	DWT_GetDeltaT
 160              	.LVL10:
  72:modules/JY61P/JY61P.c **** 
 161              		.loc 1 72 13 is_stmt 1 view .LVU30
  72:modules/JY61P/JY61P.c **** 
 162              		.loc 1 72 56 is_stmt 0 view .LVU31
 163 0054 2D4B     		ldr	r3, .L20+8
 164 0056 93ED058A 		vldr.32	s16, [r3, #20]
  72:modules/JY61P/JY61P.c **** 
 165              		.loc 1 72 62 view .LVU32
 166 005a 2046     		mov	r0, r4
 167 005c FFF7FEFF 		bl	DWT_GetDeltaT
 168              	.LVL11:
  72:modules/JY61P/JY61P.c **** 
 169              		.loc 1 72 60 view .LVU33
 170 0060 68EE007A 		vmul.f32	s15, s16, s0
 171 0064 17EE900A 		vmov	r0, s15
 172 0068 FFF7FEFF 		bl	__aeabi_f2d
 173              	.LVL12:
  72:modules/JY61P/JY61P.c **** 
 174              		.loc 1 72 24 view .LVU34
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 6


 175 006c 294B     		ldr	r3, .L20+16
 176 006e C3E90001 		strd	r0, [r3]
  74:modules/JY61P/JY61P.c ****         case GX:
 177              		.loc 1 74 13 is_stmt 1 view .LVU35
 178 0072 CEE7     		b	.L7
 179              	.LVL13:
 180              	.L19:
  64:modules/JY61P/JY61P.c ****     {
 181              		.loc 1 64 5 is_stmt 0 view .LVU36
 182 0074 0023     		movs	r3, #0
 183 0076 E7E7     		b	.L10
 184              	.LVL14:
 185              	.L13:
 186              	.LBB4:
  78:modules/JY61P/JY61P.c ****             }
 187              		.loc 1 78 17 is_stmt 1 discriminator 3 view .LVU37
  78:modules/JY61P/JY61P.c ****             }
 188              		.loc 1 78 61 is_stmt 0 discriminator 3 view .LVU38
 189 0078 03F13701 		add	r1, r3, #55
  78:modules/JY61P/JY61P.c ****             }
 190              		.loc 1 78 58 discriminator 3 view .LVU39
 191 007c 214A     		ldr	r2, .L20
 192 007e 32F91120 		ldrsh	r2, [r2, r1, lsl #1]
 193 0082 07EE902A 		vmov	s15, r2	@ int
  78:modules/JY61P/JY61P.c ****             }
 194              		.loc 1 78 65 discriminator 3 view .LVU40
 195 0086 F8EEE77A 		vcvt.f32.s32	s15, s15
 196 008a 9FED1F7A 		vldr.32	s14, .L20+4
 197 008e 67EE877A 		vmul.f32	s15, s15, s14
  78:modules/JY61P/JY61P.c ****             }
 198              		.loc 1 78 76 discriminator 3 view .LVU41
 199 0092 9FED217A 		vldr.32	s14, .L20+20
 200 0096 67EE877A 		vmul.f32	s15, s15, s14
  78:modules/JY61P/JY61P.c ****             }
 201              		.loc 1 78 52 discriminator 3 view .LVU42
 202 009a 991D     		adds	r1, r3, #6
 203 009c 1B4A     		ldr	r2, .L20+8
 204 009e 02EB8102 		add	r2, r2, r1, lsl #2
 205 00a2 C2ED017A 		vstr.32	s15, [r2, #4]
  76:modules/JY61P/JY61P.c ****             {
 206              		.loc 1 76 35 is_stmt 1 discriminator 3 view .LVU43
  76:modules/JY61P/JY61P.c ****             {
 207              		.loc 1 76 36 is_stmt 0 discriminator 3 view .LVU44
 208 00a6 0133     		adds	r3, r3, #1
 209              	.LVL15:
 210              	.L8:
  76:modules/JY61P/JY61P.c ****             {
 211              		.loc 1 76 28 is_stmt 1 discriminator 1 view .LVU45
  76:modules/JY61P/JY61P.c ****             {
 212              		.loc 1 76 13 is_stmt 0 discriminator 1 view .LVU46
 213 00a8 022B     		cmp	r3, #2
 214 00aa E5DD     		ble	.L13
 215              	.LBE4:
  80:modules/JY61P/JY61P.c ****             gyro_y = JY61P_instance.JY61P_data.fGyro[0];
 216              		.loc 1 80 13 is_stmt 1 view .LVU47
  80:modules/JY61P/JY61P.c ****             gyro_y = JY61P_instance.JY61P_data.fGyro[0];
 217              		.loc 1 80 53 is_stmt 0 view .LVU48
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 7


 218 00ac 174C     		ldr	r4, .L20+8
 219 00ae 606A     		ldr	r0, [r4, #36]	@ float
 220              	.LVL16:
  80:modules/JY61P/JY61P.c ****             gyro_y = JY61P_instance.JY61P_data.fGyro[0];
 221              		.loc 1 80 53 view .LVU49
 222 00b0 FFF7FEFF 		bl	__aeabi_f2d
 223              	.LVL17:
  80:modules/JY61P/JY61P.c ****             gyro_y = JY61P_instance.JY61P_data.fGyro[0];
 224              		.loc 1 80 20 view .LVU50
 225 00b4 194B     		ldr	r3, .L20+24
 226 00b6 C3E90001 		strd	r0, [r3]
  81:modules/JY61P/JY61P.c ****             break;
 227              		.loc 1 81 13 is_stmt 1 view .LVU51
  81:modules/JY61P/JY61P.c ****             break;
 228              		.loc 1 81 53 is_stmt 0 view .LVU52
 229 00ba E069     		ldr	r0, [r4, #28]	@ float
 230 00bc FFF7FEFF 		bl	__aeabi_f2d
 231              	.LVL18:
  81:modules/JY61P/JY61P.c ****             break;
 232              		.loc 1 81 20 view .LVU53
 233 00c0 174B     		ldr	r3, .L20+28
 234 00c2 C3E90001 		strd	r0, [r3]
  82:modules/JY61P/JY61P.c ****         case Roll: 
 235              		.loc 1 82 13 is_stmt 1 view .LVU54
 236 00c6 A4E7     		b	.L7
 237              	.LVL19:
 238              	.L15:
  64:modules/JY61P/JY61P.c ****     {
 239              		.loc 1 64 5 is_stmt 0 view .LVU55
 240 00c8 0023     		movs	r3, #0
 241 00ca EDE7     		b	.L8
 242              	.LVL20:
 243              	.L14:
 244              	.LBB5:
  86:modules/JY61P/JY61P.c ****             }
 245              		.loc 1 86 17 is_stmt 1 discriminator 3 view .LVU56
  86:modules/JY61P/JY61P.c ****             }
 246              		.loc 1 86 64 is_stmt 0 discriminator 3 view .LVU57
 247 00cc 03F13D01 		add	r1, r3, #61
  86:modules/JY61P/JY61P.c ****             }
 248              		.loc 1 86 59 discriminator 3 view .LVU58
 249 00d0 0C4A     		ldr	r2, .L20
 250 00d2 32F91120 		ldrsh	r2, [r2, r1, lsl #1]
 251 00d6 07EE902A 		vmov	s15, r2	@ int
  86:modules/JY61P/JY61P.c ****             }
 252              		.loc 1 86 68 discriminator 3 view .LVU59
 253 00da F8EEE77A 		vcvt.f32.s32	s15, s15
 254 00de 9FED0A7A 		vldr.32	s14, .L20+4
 255 00e2 67EE877A 		vmul.f32	s15, s15, s14
  86:modules/JY61P/JY61P.c ****             }
 256              		.loc 1 86 79 discriminator 3 view .LVU60
 257 00e6 9FED0F7A 		vldr.32	s14, .L20+32
 258 00ea 67EE877A 		vmul.f32	s15, s15, s14
  86:modules/JY61P/JY61P.c ****             }
 259              		.loc 1 86 53 discriminator 3 view .LVU61
 260 00ee 074A     		ldr	r2, .L20+8
 261 00f0 02EB8302 		add	r2, r2, r3, lsl #2
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 8


 262 00f4 C2ED017A 		vstr.32	s15, [r2, #4]
  84:modules/JY61P/JY61P.c ****             {
 263              		.loc 1 84 35 is_stmt 1 discriminator 3 view .LVU62
  84:modules/JY61P/JY61P.c ****             {
 264              		.loc 1 84 36 is_stmt 0 discriminator 3 view .LVU63
 265 00f8 0133     		adds	r3, r3, #1
 266              	.LVL21:
 267              	.L9:
  84:modules/JY61P/JY61P.c ****             {
 268              		.loc 1 84 28 is_stmt 1 discriminator 1 view .LVU64
  84:modules/JY61P/JY61P.c ****             {
 269              		.loc 1 84 13 is_stmt 0 discriminator 1 view .LVU65
 270 00fa 022B     		cmp	r3, #2
 271 00fc E6DD     		ble	.L14
 272 00fe 88E7     		b	.L7
 273              	.LVL22:
 274              	.L16:
  84:modules/JY61P/JY61P.c ****             {
 275              		.loc 1 84 13 discriminator 1 view .LVU66
 276              	.LBE5:
  64:modules/JY61P/JY61P.c ****     {
 277              		.loc 1 64 5 view .LVU67
 278 0100 0023     		movs	r3, #0
 279 0102 FAE7     		b	.L9
 280              	.L21:
 281              		.align	2
 282              	.L20:
 283 0104 00000000 		.word	sReg
 284 0108 00000038 		.word	939524096
 285 010c 00000000 		.word	.LANCHOR0
 286 0110 00000000 		.word	.LANCHOR1
 287 0114 00000000 		.word	.LANCHOR2
 288 0118 0000FA44 		.word	1157234688
 289 011c 00000000 		.word	.LANCHOR3
 290 0120 00000000 		.word	.LANCHOR4
 291 0124 00003443 		.word	1127481344
 292              		.cfi_endproc
 293              	.LFE141:
 295              		.section	.text.JY61P_Init,"ax",%progbits
 296              		.align	1
 297              		.global	JY61P_Init
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 302              	JY61P_Init:
 303              	.LVL23:
 304              	.LFB138:
  24:modules/JY61P/JY61P.c ****     
 305              		.loc 1 24 1 is_stmt 1 view -0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 16
 308              		@ frame_needed = 0, uses_anonymous_args = 0
  24:modules/JY61P/JY61P.c ****     
 309              		.loc 1 24 1 is_stmt 0 view .LVU69
 310 0000 30B5     		push	{r4, r5, lr}
 311              	.LCFI5:
 312              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 9


 313              		.cfi_offset 4, -12
 314              		.cfi_offset 5, -8
 315              		.cfi_offset 14, -4
 316 0002 85B0     		sub	sp, sp, #20
 317              	.LCFI6:
 318              		.cfi_def_cfa_offset 32
 319 0004 0546     		mov	r5, r0
  26:modules/JY61P/JY61P.c ****     conf.module_callback = WITSerialDecode;
 320              		.loc 1 26 5 is_stmt 1 view .LVU70
  27:modules/JY61P/JY61P.c ****     conf.usart_handle = &huart3; 
 321              		.loc 1 27 5 view .LVU71
  27:modules/JY61P/JY61P.c ****     conf.usart_handle = &huart3; 
 322              		.loc 1 27 26 is_stmt 0 view .LVU72
 323 0006 124B     		ldr	r3, .L24
 324 0008 0393     		str	r3, [sp, #12]
  28:modules/JY61P/JY61P.c ****     conf.recv_buff_size = 44; 
 325              		.loc 1 28 5 is_stmt 1 view .LVU73
  28:modules/JY61P/JY61P.c ****     conf.recv_buff_size = 44; 
 326              		.loc 1 28 23 is_stmt 0 view .LVU74
 327 000a 124B     		ldr	r3, .L24+4
 328 000c 0293     		str	r3, [sp, #8]
  29:modules/JY61P/JY61P.c ****     JY61P_instance.usart_instance = USARTRegister(&conf);
 329              		.loc 1 29 5 is_stmt 1 view .LVU75
  29:modules/JY61P/JY61P.c ****     JY61P_instance.usart_instance = USARTRegister(&conf);
 330              		.loc 1 29 25 is_stmt 0 view .LVU76
 331 000e 2C23     		movs	r3, #44
 332 0010 8DF80430 		strb	r3, [sp, #4]
  30:modules/JY61P/JY61P.c **** 
 333              		.loc 1 30 5 is_stmt 1 view .LVU77
  30:modules/JY61P/JY61P.c **** 
 334              		.loc 1 30 37 is_stmt 0 view .LVU78
 335 0014 01A8     		add	r0, sp, #4
 336              	.LVL24:
  30:modules/JY61P/JY61P.c **** 
 337              		.loc 1 30 37 view .LVU79
 338 0016 FFF7FEFF 		bl	USARTRegister
 339              	.LVL25:
  30:modules/JY61P/JY61P.c **** 
 340              		.loc 1 30 35 view .LVU80
 341 001a 0F4C     		ldr	r4, .L24+8
 342 001c 44F8040B 		str	r0, [r4], #4
  32:modules/JY61P/JY61P.c ****     WitSerialWriteRegister(USART_JY61P_SEND); // 注册传感器串口发送函数
 343              		.loc 1 32 5 is_stmt 1 view .LVU81
 344 0020 5021     		movs	r1, #80
 345 0022 0020     		movs	r0, #0
 346 0024 FFF7FEFF 		bl	WitInit
 347              	.LVL26:
  33:modules/JY61P/JY61P.c ****     WitDelayMsRegister(DWT_Delay_ms);// 注册传感器延时函数
 348              		.loc 1 33 5 view .LVU82
 349 0028 0C48     		ldr	r0, .L24+12
 350 002a FFF7FEFF 		bl	WitSerialWriteRegister
 351              	.LVL27:
  34:modules/JY61P/JY61P.c ****     WitRegisterCallBack(JY61P_DataUpdate);// 注册传感器数据更新函数
 352              		.loc 1 34 5 view .LVU83
 353 002e 0C48     		ldr	r0, .L24+16
 354 0030 FFF7FEFF 		bl	WitDelayMsRegister
 355              	.LVL28:
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 10


  35:modules/JY61P/JY61P.c ****     WitSetUartBaud(uart_baud);
 356              		.loc 1 35 5 view .LVU84
 357 0034 0B48     		ldr	r0, .L24+20
 358 0036 FFF7FEFF 		bl	WitRegisterCallBack
 359              	.LVL29:
  36:modules/JY61P/JY61P.c ****     WitStartAccCali();
 360              		.loc 1 36 5 view .LVU85
 361 003a 2846     		mov	r0, r5
 362 003c FFF7FEFF 		bl	WitSetUartBaud
 363              	.LVL30:
  37:modules/JY61P/JY61P.c ****     DWT_Delay_ms(100);
 364              		.loc 1 37 5 view .LVU86
 365 0040 FFF7FEFF 		bl	WitStartAccCali
 366              	.LVL31:
  38:modules/JY61P/JY61P.c ****     return &JY61P_instance.JY61P_data;
 367              		.loc 1 38 5 view .LVU87
 368 0044 6420     		movs	r0, #100
 369 0046 FFF7FEFF 		bl	DWT_Delay_ms
 370              	.LVL32:
  39:modules/JY61P/JY61P.c **** }
 371              		.loc 1 39 5 view .LVU88
  40:modules/JY61P/JY61P.c **** 
 372              		.loc 1 40 1 is_stmt 0 view .LVU89
 373 004a 2046     		mov	r0, r4
 374 004c 05B0     		add	sp, sp, #20
 375              	.LCFI7:
 376              		.cfi_def_cfa_offset 12
 377              		@ sp needed
 378 004e 30BD     		pop	{r4, r5, pc}
 379              	.L25:
 380              		.align	2
 381              	.L24:
 382 0050 00000000 		.word	WITSerialDecode
 383 0054 00000000 		.word	huart3
 384 0058 00000000 		.word	.LANCHOR0
 385 005c 00000000 		.word	USART_JY61P_SEND
 386 0060 00000000 		.word	DWT_Delay_ms
 387 0064 00000000 		.word	JY61P_DataUpdate
 388              		.cfi_endproc
 389              	.LFE138:
 391              		.section	.text.INS_Init,"ax",%progbits
 392              		.align	1
 393              		.global	INS_Init
 394              		.syntax unified
 395              		.thumb
 396              		.thumb_func
 398              	INS_Init:
 399              	.LFB137:
  16:modules/JY61P/JY61P.c ****     DWT_Init(168);
 400              		.loc 1 16 1 is_stmt 1 view -0
 401              		.cfi_startproc
 402              		@ args = 0, pretend = 0, frame = 0
 403              		@ frame_needed = 0, uses_anonymous_args = 0
 404 0000 08B5     		push	{r3, lr}
 405              	.LCFI8:
 406              		.cfi_def_cfa_offset 8
 407              		.cfi_offset 3, -8
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 11


 408              		.cfi_offset 14, -4
  17:modules/JY61P/JY61P.c ****     JY61P_data = JY61P_Init(WIT_BAUD_115200);
 409              		.loc 1 17 5 view .LVU91
 410 0002 A820     		movs	r0, #168
 411 0004 FFF7FEFF 		bl	DWT_Init
 412              	.LVL33:
  18:modules/JY61P/JY61P.c **** 
 413              		.loc 1 18 5 view .LVU92
  18:modules/JY61P/JY61P.c **** 
 414              		.loc 1 18 18 is_stmt 0 view .LVU93
 415 0008 0620     		movs	r0, #6
 416 000a FFF7FEFF 		bl	JY61P_Init
 417              	.LVL34:
  18:modules/JY61P/JY61P.c **** 
 418              		.loc 1 18 16 view .LVU94
 419 000e 024B     		ldr	r3, .L28
 420 0010 1860     		str	r0, [r3]
  20:modules/JY61P/JY61P.c **** }
 421              		.loc 1 20 5 is_stmt 1 view .LVU95
  21:modules/JY61P/JY61P.c **** 
 422              		.loc 1 21 1 is_stmt 0 view .LVU96
 423 0012 1846     		mov	r0, r3
 424 0014 08BD     		pop	{r3, pc}
 425              	.L29:
 426 0016 00BF     		.align	2
 427              	.L28:
 428 0018 00000000 		.word	.LANCHOR5
 429              		.cfi_endproc
 430              	.LFE137:
 432              		.section	.text.JY61P_ReadData,"ax",%progbits
 433              		.align	1
 434              		.global	JY61P_ReadData
 435              		.syntax unified
 436              		.thumb
 437              		.thumb_func
 439              	JY61P_ReadData:
 440              	.LFB139:
  43:modules/JY61P/JY61P.c ****     WitReadReg(AX, 3);
 441              		.loc 1 43 1 is_stmt 1 view -0
 442              		.cfi_startproc
 443              		@ args = 0, pretend = 0, frame = 0
 444              		@ frame_needed = 0, uses_anonymous_args = 0
 445 0000 08B5     		push	{r3, lr}
 446              	.LCFI9:
 447              		.cfi_def_cfa_offset 8
 448              		.cfi_offset 3, -8
 449              		.cfi_offset 14, -4
 450 0002 2DED028B 		vpush.64	{d8}
 451              	.LCFI10:
 452              		.cfi_def_cfa_offset 16
 453              		.cfi_offset 80, -16
 454              		.cfi_offset 81, -12
  44:modules/JY61P/JY61P.c ****     DWT_Delay(0.1);
 455              		.loc 1 44 5 view .LVU98
 456 0006 0321     		movs	r1, #3
 457 0008 3420     		movs	r0, #52
 458 000a FFF7FEFF 		bl	WitReadReg
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 12


 459              	.LVL35:
  45:modules/JY61P/JY61P.c ****     WitReadReg(GX, 3);
 460              		.loc 1 45 5 view .LVU99
 461 000e 9FED0E8A 		vldr.32	s16, .L32
 462 0012 B0EE480A 		vmov.f32	s0, s16
 463 0016 FFF7FEFF 		bl	DWT_Delay
 464              	.LVL36:
  46:modules/JY61P/JY61P.c ****     DWT_Delay(0.1);
 465              		.loc 1 46 5 view .LVU100
 466 001a 0321     		movs	r1, #3
 467 001c 3720     		movs	r0, #55
 468 001e FFF7FEFF 		bl	WitReadReg
 469              	.LVL37:
  47:modules/JY61P/JY61P.c ****     WitReadReg(HX, 3);
 470              		.loc 1 47 5 view .LVU101
 471 0022 B0EE480A 		vmov.f32	s0, s16
 472 0026 FFF7FEFF 		bl	DWT_Delay
 473              	.LVL38:
  48:modules/JY61P/JY61P.c ****     DWT_Delay(0.1);
 474              		.loc 1 48 5 view .LVU102
 475 002a 0321     		movs	r1, #3
 476 002c 3A20     		movs	r0, #58
 477 002e FFF7FEFF 		bl	WitReadReg
 478              	.LVL39:
  49:modules/JY61P/JY61P.c ****     WitReadReg(Roll, 3);
 479              		.loc 1 49 5 view .LVU103
 480 0032 B0EE480A 		vmov.f32	s0, s16
 481 0036 FFF7FEFF 		bl	DWT_Delay
 482              	.LVL40:
  50:modules/JY61P/JY61P.c **** }
 483              		.loc 1 50 5 view .LVU104
 484 003a 0321     		movs	r1, #3
 485 003c 3D20     		movs	r0, #61
 486 003e FFF7FEFF 		bl	WitReadReg
 487              	.LVL41:
  51:modules/JY61P/JY61P.c **** 
 488              		.loc 1 51 1 is_stmt 0 view .LVU105
 489 0042 BDEC028B 		vldm	sp!, {d8}
 490              	.LCFI11:
 491              		.cfi_restore 80
 492              		.cfi_restore 81
 493              		.cfi_def_cfa_offset 8
 494 0046 08BD     		pop	{r3, pc}
 495              	.L33:
 496              		.align	2
 497              	.L32:
 498 0048 CDCCCC3D 		.word	1036831949
 499              		.cfi_endproc
 500              	.LFE139:
 502              		.global	last_count
 503              		.global	dart_speed
 504              		.global	gyro_y
 505              		.global	gyro_x
 506              		.section	.bss.JY61P_data,"aw",%nobits
 507              		.align	2
 508              		.set	.LANCHOR5,. + 0
 511              	JY61P_data:
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 13


 512 0000 00000000 		.space	4
 513              		.section	.bss.JY61P_instance,"aw",%nobits
 514              		.align	2
 515              		.set	.LANCHOR0,. + 0
 518              	JY61P_instance:
 519 0000 00000000 		.space	40
 519      00000000 
 519      00000000 
 519      00000000 
 519      00000000 
 520              		.section	.bss.dart_speed,"aw",%nobits
 521              		.align	3
 522              		.set	.LANCHOR2,. + 0
 525              	dart_speed:
 526 0000 00000000 		.space	8
 526      00000000 
 527              		.section	.bss.gyro_x,"aw",%nobits
 528              		.align	3
 529              		.set	.LANCHOR3,. + 0
 532              	gyro_x:
 533 0000 00000000 		.space	8
 533      00000000 
 534              		.section	.bss.gyro_y,"aw",%nobits
 535              		.align	3
 536              		.set	.LANCHOR4,. + 0
 539              	gyro_y:
 540 0000 00000000 		.space	8
 540      00000000 
 541              		.section	.bss.last_count,"aw",%nobits
 542              		.align	2
 543              		.set	.LANCHOR1,. + 0
 546              	last_count:
 547 0000 00000000 		.space	4
 548              		.text
 549              	.Letext0:
 550              		.file 2 "d:\\baidunetdiskdownload\\archive\\ec\\vscode_ozone\\gcc-arm-none-eabi-10.3-2021.10-win32
 551              		.file 3 "d:\\baidunetdiskdownload\\archive\\ec\\vscode_ozone\\gcc-arm-none-eabi-10.3-2021.10-win32
 552              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 553              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 554              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 555              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 556              		.file 8 "bsp/usart/bsp_usart.h"
 557              		.file 9 "Core/Inc/usart.h"
 558              		.file 10 "modules/JY61P/wit_c_sdk.h"
 559              		.file 11 "modules/JY61P/JY61P.h"
 560              		.file 12 "bsp/dwt/bsp_dwt.h"
ARM GAS  C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 JY61P.c
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:20     .text.WITSerialDecode:00000000 $t
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:26     .text.WITSerialDecode:00000000 WITSerialDecode
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:73     .text.WITSerialDecode:00000018 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:79     .text.JY61P_DataUpdate:00000000 $t
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:85     .text.JY61P_DataUpdate:00000000 JY61P_DataUpdate
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:283    .text.JY61P_DataUpdate:00000104 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:296    .text.JY61P_Init:00000000 $t
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:302    .text.JY61P_Init:00000000 JY61P_Init
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:382    .text.JY61P_Init:00000050 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:392    .text.INS_Init:00000000 $t
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:398    .text.INS_Init:00000000 INS_Init
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:428    .text.INS_Init:00000018 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:433    .text.JY61P_ReadData:00000000 $t
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:439    .text.JY61P_ReadData:00000000 JY61P_ReadData
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:498    .text.JY61P_ReadData:00000048 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:546    .bss.last_count:00000000 last_count
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:525    .bss.dart_speed:00000000 dart_speed
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:539    .bss.gyro_y:00000000 gyro_y
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:532    .bss.gyro_x:00000000 gyro_x
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:507    .bss.JY61P_data:00000000 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:511    .bss.JY61P_data:00000000 JY61P_data
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:514    .bss.JY61P_instance:00000000 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:518    .bss.JY61P_instance:00000000 JY61P_instance
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:521    .bss.dart_speed:00000000 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:528    .bss.gyro_x:00000000 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:535    .bss.gyro_y:00000000 $d
C:\Users\HUAWEI\AppData\Local\Temp\cckoHvxr.s:542    .bss.last_count:00000000 $d

UNDEFINED SYMBOLS
WitSerialDataIn
__aeabi_f2d
DWT_GetDeltaT
sReg
USARTRegister
WitInit
WitSerialWriteRegister
WitDelayMsRegister
WitRegisterCallBack
WitSetUartBaud
WitStartAccCali
DWT_Delay_ms
huart3
USART_JY61P_SEND
DWT_Init
WitReadReg
DWT_Delay
